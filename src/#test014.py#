import MySQLdb

connection = MySQLdb.connect(
    #host='localhost', user='root', passwd='yourpass', db='sample_db', charset='utf8')
    host='localhost', user='pi', passwd='pass', db='raspberry', charset='utf8')
    
try:
    with connection.cursor() as cursor:
        sql = "SELECT * FROM CITY_CODE_TABL
        cursor.execute(sql)
        print("a")
        result = cursor.fetchall()
        print("a")
        
        for data in result:
            city_name = data[0]
            city_code = data[1]
            print("{0},{1}".format(city_name, city_code))
except:
    print("ERROR")
